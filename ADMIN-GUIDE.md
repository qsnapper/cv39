# How to Access the TinaCMS Admin Interface

## Quick Start

To access the CMS admin interface and edit content, you need to start the development server:

```bash
npm run dev
```

This command does two things:
1. Starts the TinaCMS dev server (generates admin interface)
2. Starts Next.js dev server

Once running, you can access:
- **Your site**: http://localhost:3000
- **CMS Admin**: http://localhost:3000/admin/index.html

## Important Notes

### Local Development (No TinaCMS Cloud)

When running locally without TinaCMS Cloud credentials, the admin interface will work but with some limitations:
- ✅ You can view all content
- ✅ You can edit content files directly
- ❌ Visual editing preview limited
- ❌ Media management limited

### With TinaCMS Cloud (Recommended for Production)

1. **Create TinaCMS Cloud Account**
   - Go to https://app.tina.io/register
   - Create a free account (supports 2 users)

2. **Create a Project**
   - Connect your repository
   - Get your `Client ID` and `Token`

3. **Add Credentials Locally**
   - Copy `.env.local.example` to `.env.local`
   - Add your credentials:
     ```
     NEXT_PUBLIC_TINA_CLIENT_ID=your_client_id
     TINA_TOKEN=your_token
     ```

4. **Restart Dev Server**
   ```bash
   npm run dev
   ```

5. **Access Full Admin**
   - http://localhost:3000/admin/index.html
   - Log in with your TinaCMS Cloud credentials
   - Full visual editing and media management available

## Editing Content

### Option 1: Direct File Editing (Always Works)

You can edit content directly in the JSON files:

```bash
content/property/en.json  # English content
content/property/pt.json  # Portuguese content
content/property/fr.json  # French content
```

After editing, the changes appear immediately on the site (Next.js hot reload).

### Option 2: TinaCMS Admin (Recommended)

1. Start dev server: `npm run dev`
2. Go to: http://localhost:3000/admin/index.html
3. Click on a content file (e.g., "en.json")
4. Edit using the visual interface
5. Click "Save" to commit changes

## Troubleshooting

### "Admin page shows normal site"

**Solution**: Make sure you're accessing the full path:
- ✅ **Correct**: http://localhost:3000/admin/index.html
- ❌ **Wrong**: http://localhost:3000/admin

The `/admin` route redirects to `/en/admin`, but `/admin/index.html` loads the TinaCMS interface.

### "Admin interface not loading"

**Solution**:
1. Stop the dev server (Ctrl+C)
2. Delete `public/admin` folder if it exists
3. Run `npm run dev` again
4. Wait for "TinaCMS Dev Server is active" message
5. Try accessing admin again

### "Can't save changes"

**Without TinaCMS Cloud**: Changes may not save properly. Use direct file editing instead.

**With TinaCMS Cloud**: Make sure your credentials are correct in `.env.local`

## Production Deployment

When deploying to Netlify:

1. **Set Environment Variables** in Netlify dashboard:
   ```
   NEXT_PUBLIC_TINA_CLIENT_ID=your_client_id
   TINA_TOKEN=your_token
   NEXT_PUBLIC_SITE_URL=https://your-site.netlify.app
   ```

2. **Build Command**: Make sure it's set to:
   ```
   npm run build:tina
   ```

3. **After Deployment**: Access admin at:
   ```
   https://your-site.netlify.app/admin/index.html
   ```

## Quick Reference

| Action | Command/URL |
|--------|-------------|
| Start dev server | `npm run dev` |
| Access site | http://localhost:3000 |
| Access admin | http://localhost:3000/admin/index.html |
| Edit English | content/property/en.json |
| Edit Portuguese | content/property/pt.json |
| Edit French | content/property/fr.json |

## File Structure

```
cv39/
├── content/property/          # Content files (EDIT THESE)
│   ├── en.json               # English content
│   ├── pt.json               # Portuguese content
│   └── fr.json               # French content
├── tina/
│   └── config.ts             # TinaCMS configuration
├── public/admin/             # Generated admin interface
│   └── index.html           # (Generated by tinacms dev)
└── .env.local                # Local environment variables
```

---

**Need help?** See DEPLOYMENT.md for full deployment instructions.
